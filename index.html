<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva de Comedor v. 0.6b</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Reserva de Comedor</h1>
    <form id="formulario">
        <label for="numero">Ingrese su código:</label>
        <input type="text" id="numero" name="numero">
        <button id="boton1">Reservar en el 1er turno</button>
        <button id="boton2">Reservar en el 2do turno</button>
    </form>
    <p><b>Importante:</b> Reservar a partir de las 11:01 AM. <span id="hora-local"></span></p>
    <a href="como-funciona.html" target="_blank">¿Cómo funciona esto?</a>
    <div id="resultado"></div>

    <script>
        const formulario = document.getElementById('formulario');
        const numeroInput = document.getElementById('numero');
        const boton1 = document.getElementById('boton1');
        const boton2 = document.getElementById('boton2');
        const resultadoDiv = document.getElementById('resultado');
        const horaLocalSpan = document.getElementById('hora-local');

        // Obtener la hora local en formato GMT-5
        const fecha = new Date();
        const horaLocal = fecha.toLocaleTimeString('es-ES', { timeZone: 'America/Bogota' });
        horaLocalSpan.textContent = `Hora Local: ${horaLocal}`;

        boton1.addEventListener('click', (e) => {
            e.preventDefault();
            const numero = numeroInput.value.trim();
            if (numero !== '') {
                const link = `https://intranet.unfv.edu.pe/ocbu/reserva_alumnos/Reserva/ConfirmarReserva?p1=169&p2=1331&p3=${numero}&p4=CAFETERIA%20SL10&p5=12%3A00%3A00&p6=13%3A15%3A00`;
                resultadoDiv.innerHTML = `<a href="${link}" target="_blank">Link de reserva para el 1er turno</a>`;
            } else {
                alert('Por favor, ingrese un código');
            }
        });

        boton2.addEventListener('click', (e) => {
            e.preventDefault();
            const numero = numeroInput.value.trim();
            if (numero !== '') {
                const link = `https://example.com/turno2/${numero}`;
                resultadoDiv.innerHTML = `<a href="${link}" target="_blank">Link de reserva para el 2do turno</a>`;
            } else {
                alert('Por favor, ingrese un código');
            }
        });
    </script>
</body>
</html>